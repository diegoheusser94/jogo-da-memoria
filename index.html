<!DOCTYPE html>
<html>
	<head>
		<title>Jogo da Memória</title>
		<meta charset="utf-8">
		<link rel="stylesheet" type="text/css" href="css/index.css">
		<link rel="stylesheet" type="text/css" href="css/normalize.css">
		<script type="text/javascript" src="js/index.js"></script>
		<script type="text/javascript" src="js/jquery-3.1.0.min.js"></script>

		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

		<!-- Optional theme -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

		<!-- Latest compiled and minified JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script>
			$(function(){
				
				//Variável para liberaçao e bloqueio de seleçao de carta
				var libera = true;
			
				//Variável de controle de cartas viradas
				var qtdCartas = 0;
				
				//Array com as cartas viradas
				var arrCartas = new Array();
				
				//Açao para embaralhar o array das imagens e setalas nas cartas
				setTimeout(function() {            
					embaralhar();
				}, 100);
				
				//Açao ao clicar na cartas
				$.fn.viraCarta = function(id){
					if(libera){
						//Bloqueia seleçao de nova carta
						libera = false;
						//Incrementa quantidade de cartas viradas
						qtdCartas++;
						//Inserindo a carta selecionada no array
						arrCartas.push(id);
						
						//Funcao para revelar a carta
						revelar('img-'+id);					
						
						//Verifica se tem 2 ou mais cartas viradas
						if(qtdCartas > 1){
							
							//Comparar as duas cartas, caso forem diferentes, desviram as cartas
							if($("#img-"+arrCartas[0]).prop("src") != $("#img-"+arrCartas[1]).prop("src")){
								setTimeout(function(){
									//Desvirar as cartas depois de um segundo
									for(i=0;i<arrCartas.length;i++){
										desvirarCarta('img-'+arrCartas[i]);
									}
									//Limpando o array
									arrCartas = [];
									//Libera seleçao de carta
									libera = true;
								},1000);
							}
							//Caso as cartas sejam iguais, apenas limpa o array com as cartas selecionadas
							else{
								//Limpando o array
								arrCartas = [];
								//Libera seleçao de carta
								libera = true;
							}
							
							//Reset da quantidade de cartas
							qtdCartas = 0;
						}
						else{
							//Libera seleçao de carta
							libera = true;
						}
					}
					
				};
				
			});
		</script>
	</head>
	<body>
		<div class="container-fluid">
			<div class="row">
				<div class="col-md-3">
					Jogadores				
				</div>
				<div class="col-md-9">
					<div class="row">
						<div class="col-md-2">
							<img id="img-1" src="img/verso.jpg" onclick="$(this).viraCarta('1')"/>
						</div>		
						<div class="col-md-2">
							<img id="img-2" src="img/verso.jpg" onclick="$(this).viraCarta('2')"/>
						</div>	
						<div class="col-md-2">
							<img id="img-3" src="img/verso.jpg" onclick="$(this).viraCarta('3')"/>
						</div>	
						<div class="col-md-2">
							<img id="img-4" src="img/verso.jpg" onclick="$(this).viraCarta('4')"/>
						</div>	
						<div class="col-md-2">
							<img id="img-5" src="img/verso.jpg" onclick="$(this).viraCarta('5')"/>
						</div>			
					</div>
					<div class="row">
						<div class="col-md-2">
							<img id="img-6" src="img/verso.jpg" onclick="$(this).viraCarta('6')"/>
						</div>		
						<div class="col-md-2">
							<img id="img-7" src="img/verso.jpg" onclick="$(this).viraCarta('7')"/>
						</div>	
						<div class="col-md-2">
							<img id="img-8" src="img/verso.jpg" onclick="$(this).viraCarta('8')"/>
						</div>	
						<div class="col-md-2">
							<img id="img-9" src="img/verso.jpg" onclick="$(this).viraCarta('9')"/>
						</div>	
						<div class="col-md-2">
							<img id="img-10" src="img/verso.jpg" onclick="$(this).viraCarta('10')"/>
						</div>			
					</div>
					<div class="row">
						<div class="col-md-2">
							<img id="img-11" src="img/verso.jpg" onclick="$(this).viraCarta('11')"/>
						</div>		
						<div class="col-md-2">
							<img id="img-12" src="img/verso.jpg" onclick="$(this).viraCarta('12')"/>
						</div>	
						<div class="col-md-2">
							<img id="img-13" src="img/verso.jpg" onclick="$(this).viraCarta('13')"/>
						</div>	
						<div class="col-md-2">
							<img id="img-14" src="img/verso.jpg" onclick="$(this).viraCarta('14')"/>
						</div>	
						<div class="col-md-2">
							<img id="img-15" src="img/verso.jpg" onclick="$(this).viraCarta('15')"/>
						</div>			
					</div>
					<div class="row">
						<div class="col-md-2">
							<img id="img-16" src="img/verso.jpg" onclick="$(this).viraCarta('16')"/>
						</div>		
						<div class="col-md-2">
							<img id="img-17" src="img/verso.jpg" onclick="$(this).viraCarta('17')"/>
						</div>	
						<div class="col-md-2">
							<img id="img-18" src="img/verso.jpg" onclick="$(this).viraCarta('18')"/>
						</div>	
						<div class="col-md-2">
							<img id="img-19" src="img/verso.jpg" onclick="$(this).viraCarta('19')"/>
						</div>	
						<div class="col-md-2">
							<img id="img-20" src="img/verso.jpg" onclick="$(this).viraCarta('20')"/>
						</div>			
					</div>				
				</div>			
			</div>
		</div>		
	</body>
</html>
